<!DOCTYPE html><html><head><title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ù…Ø²ÙˆØ¯ Ø§Ù„Ø®Ø¯Ù…Ø©</title></head><body><h1>Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ù…Ø²ÙˆØ¯ Ø§Ù„Ø®Ø¯Ù…Ø©</h1>
<button onclick="toggleRole()" style="margin-top: 20px; padding: 10px 20px; background-color: #6c5ce7; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px;">
  ğŸ” ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
</button>
<script type="module">
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";
  import { app } from "./firebase.js";
  const auth = getAuth(app);
  const db = getFirestore(app);
  async function toggleRole() {
    onAuthStateChanged(auth, async (user) => {
      if (user) {
        const userRef = doc(db, "users", user.uid);
        const userSnap = await getDoc(userRef);
        if (userSnap.exists()) {
          const roles = userSnap.data().roles || [];
          let currentPage = window.location.pathname.includes("client") ? "client" : "provider";
          let target = currentPage === "client" ? "provider" : "client";
          if (roles.includes(target)) {
            window.location.href = `/${target}-dashboard.html`;
          } else {
            alert("Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¯ÙˆØ± Ù„Ø£Ù† Ø­Ø³Ø§Ø¨Ùƒ Ù„Ø§ ÙŠÙ…Ù„ÙƒÙ‡.");
          }
        }
      }
    });
  }
</script>

</body></html>